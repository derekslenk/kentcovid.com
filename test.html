<!doctype html>
<html lang="en">
    <head>
        <title>Kent County, MI COVID-19 Tracker</title>
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
        <meta name="description" content="Daily stats, graphed, for Kent County, MI COVID-19 cases. Data taken from Kent County's official website."/>
        <meta http-equiv="X-UA-Compatible" content="ie=edge">

        <style>
            canvas {
                margin: 0 auto;
            }
            p {
                text-align: center;
            }
            .chart-container {
                position: relative;
                margin: auto;
                height: 80vh;
                width: 80vw;
            }
        </style>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js" crossorigin="anonymous"></script>
        <script src="js/chartjs-plugin-trendline.js"></script>
        <script>
        colors = {
                    green: {
                        fill: '#e0eadf',
                        stroke: '#5eb84d',
                    },
                    lightBlue: {
                        stroke: '#6fccdd',
                    },
                    darkBlue: {
                        fill: '#92bed2',
                        stroke: '#3282bf',
                    },
                    purple: {
                        fill: '#8fa8c8',
                        stroke: '#75539e',
                    },
                    black: {
                        stroke: '#000000',
                    },
                };

        const negative = ["26","41","58","58","58","58","100","101","111","137","146","158","182","204","211","241","269","281","302","302","318","339","366","0","0","0","0","0","0","0","0","0","0","0","0",];
        const positive = ["5","5","9","10","10","10","29","32","35","41","45","53","73","102","108","118","126","140","157","163","177","194","216","240","249","270","287","314","328","352","382","438","463","503","559",];
        const pending = ["58","56","81","80","80","80","86","96","111","100","93","113","109","113","119","101","105","94","116","116","100","166","159","0","0","0","0","0","0","0","0","0","0","0","0",];
        const deaths = ["0","0","0","0","0","0","1","1","1","1","1","1","1","1","1","2","2","2","3","3","5","7","9","10","12","12","13","13","14","16","17","21","23","24","24",];
        const created_at = ["2020-03-16","2020-03-17","2020-03-19","2020-03-20","2020-03-21*","2020-03-22*","2020-03-23","2020-03-24","2020-03-25","2020-03-26","2020-03-27","2020-03-28","2020-03-29","2020-03-30","2020-03-31","2020-04-01","2020-04-02","2020-04-03","2020-04-04","2020-04-05","2020-04-06","2020-04-07","2020-04-08","2020-04-09","2020-04-10","2020-04-11","2020-04-12","2020-04-13","2020-04-14","2020-04-15","2020-04-16","2020-04-17","2020-04-18","2020-04-19","2020-04-20",];
        const positive_delta = ["5","0","4","1","0","0","19","3","3","6","4","8","20","29","6","10","8","14","17","6","14","17","22","24","9","21","17","27","14","24","30","56","25","40","56",];
        const deaths_delta = ["0","0","0","0","0","0","1","0","0","0","0","0","0","0","0","1","0","0","1","0","2","2","2","1","2","0","1","0","1","2","1","4","2","1","0",];

        document.addEventListener("DOMContentLoaded", function(event) {       
                        new Chart(document.getElementById("trend_chart"), {
                            type: 'line',
                            data: {
                                labels: created_at,
                                datasets: [{
                                    label: "Deaths",
                                    fill: false,
                                    backgroundColor: colors.purple.fill,
                                    pointBackgroundColor: colors.black.stroke,
                                    borderColor: colors.black.stroke,
                                    pointHighlightStroke: colors.black.stroke,
                                    borderCapStyle: 'butt',
                                    data: deaths,

                                }, {
                                    label: "Presumptive Positive",
                                    fill: false,
                                    borderColor: colors.darkBlue.stroke,
                                    data: positive,
                                    trendlineLinear: {
                                            style: "#000000",
                                            lineStyle: "line",
                                            width: 10
                                    },
                                }]
                            },
                            options: {
                                responsive: false,
                                animation: {
                                    duration: 750,
                                },
                                title: {
                                    display: true,
                                    text: 'Kent County, MI COVID-19 Tracker'
                                }
                            }
                        });

            //             new Chart(document.getElementById("positive_delta_chart"), {
            // type: 'bar',
            // data: {
            //     labels: created_at,
            //     datasets: [{
            //         label: "Daily Positive",
            //         fill: true,
            //         backgroundColor: colors.darkBlue.stroke,
            //         borderColor: colors.darkBlue.stroke,
            //         data: positive_delta,
            //     },
            //     {
            //         label: "Daily Deaths",
            //         fill: false,
            //         backgroundColor: colors.black.stroke,
            //         borderColor: colors.black.stroke,
            //         data:deaths_delta,
            //     }]
            // },
            options: {
                responsive: false,
                // Can't just just `stacked: true` like the docs say
                animation: {
                    duration: 750,
                },
                title: {
                    display: true,
                    text: 'Daily Case Growth'
                }
            }
        });
        });
        </script>
        <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
        <link href="css/covid.css" rel="stylesheet">

    </head>

    <body class="bg-light">
        <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
            <canvas id="trend_chart" width="800" height="400"></canvas>
        </div>

        <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
                <canvas id="positive_delta_chart" width="800" height="400"></canvas>
        </div>
        <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light">
            <p><i>Data last generated at 20 Apr 2020 20:46:46<br/>
                * - denotes no official data from Kent County</i>
            </p>
        <p>Data sourced from
            <a href="https://www.accesskent.com/Health/coronavirus.htm">https://www.accesskent.com/Health/coronavirus.htm</a><br/>
            All updates are automatic. Raw data from the Kent County website is stored in
            <a href="https://micovid-data.s3.us-east-2.amazonaws.com/">AWS</a>. Cleaned data is stored at
            <a href="data.json">data.json</a><br/>
            To see source, file an issue or improve my crappy code, check out <a href="https://github.com/derekslenk/kentcovid.xyz">GitHub</a></p>
        <p>Any preview work for this site can be seen at
            <a href="https://beta.kentcovid.xyz/">https://beta.kentcovid.xyz/</a>
        </p>
</div>
                                                         
                                                    

</body>
</html>
